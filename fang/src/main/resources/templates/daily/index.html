<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace=" @{/common/index}::head(~{::title}, ~{::link}, ~{::style})">
    <title>首页</title>
</head>
<body >
<div class="layui-main site-inline site-fix">
    <!--    <span id="testView">sss</span>-->
    <!--    <div id="test2"></div>-->

    <div class="layui-tab layui-tab-card">

        <div class="layui-inline"> <!-- 注意：这一层元素并不是必须的 -->
            <input type="text" class="layui-input" id="daily">
        </div>
        <ul class="layui-tab-title">
            <li th:each="item,state:${dailies}" th:class="${state.index==0?'layui-this':''}" th:text="${item.title}"
                class="">标题
            </li>
        </ul>
        <div class="layui-tab-content">
            <div th:each="item,state:${dailies}"
                 th:class="layui-tab-item+${state.index==0?' layui-show':''}">
                <p th:text="${item.title}"></p>
                <!--<iframe th:src="${item.link}" width="100%" height="300px"></iframe>-->
                <table class="layui-table">
                    <tr>
                        <th>区域</th>
                        <th>商品房套数</th>
                        <th>商品房面积</th>
                    </tr>
                    <tr th:each="treat:${item.treats}">
                        <td th:text="${treat.Region}">区域</td>
                        <td th:text="${treat.HouseTotal}">商品房套数</td>
                        <td th:text="${treat.HouseArea}">商品房面积</td>
                    </tr>
                </table>
                </p>
            </div>
        </div>
    </div>


</div>
<script th:replace="/common/index :: script"></script>
<script>
    layui.use('laydate', function(){
        var laydate = layui.laydate;
        var $ = layui.jquery;


        //jQuery监听
        $("#daily").blur(function (e) {

            console.log("jquery"+e);
        });


        //lay方式家庭
        lay("#daily").on('blur', function (e) {
            console.log(lay("#daily"));
        });

        //根据事件动态渲染
        lay("#daily").on('focus', function (e) {
            laydate.render({
                elem: '#daily'
                ,show: true
                ,trigger: 'click'
                ,change: function(value, date){ //监听日期被切换
                    console.log(date);
                    console.log(value);
                    lay("#daily")[0].value = value;
                    console.log(lay("#daily")[0]);
                }

            });
        });
    });
</script>
</body>
</html>